<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>1.7. Release notes for version 7.4.1</title><link rel="stylesheet" href="fptools.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="The Parallel Haskell Compilation System User's Guide, Version 7.4.2"><link rel="up" href="introduction-GHC.html" title="Chapter 1. Introduction to GHC"><link rel="prev" href="release-7-2-2.html" title="1.6. Release notes for version 7.2.2"><link rel="next" href="release-7-4-2.html" title="1.8. Release notes for version 7.4.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1.7. Release notes for version 7.4.1</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="release-7-2-2.html">Prev</a> </td><th width="60%" align="center">Chapter 1. Introduction to GHC</th><td width="20%" align="right"> <a accesskey="n" href="release-7-4-2.html">Next</a></td></tr></table><hr></div><div class="sect1" title="1.7. Release notes for version 7.4.1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="release-7-4-1"></a>1.7. Release notes for version 7.4.1</h2></div></div></div><p>
    The significant changes to the various parts of the compiler are
    listed in the following sections. There have also been numerous bug
    fixes and performance improvements over the 7.2 branch.
  </p><div class="sect2" title="1.7.1. Highlights"><div class="titlepage"><div><div><h3 class="title"><a name="idp19029392"></a>1.7.1. Highlights</h3></div></div></div><p>
        The highlights, since the 7.0 branch, are:
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
              The <code class="literal">Num</code> class no longer has
              <code class="literal">Eq</code> or <code class="literal">Show</code>
              superclasses. A number of other classes and
              functions have therefore gained explicit
              <code class="literal">Eq</code> or <code class="literal">Show</code>
              constraints, rather than relying on a
              <code class="literal">Num</code> constraint to provide them.
          </p><p>
             You can make code that works with both
             Haskell98/Haskell2010 and GHC by:
             </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                   Whenever you make a <code class="literal">Num</code> instance
                   of a type, also make <code class="literal">Show</code> and
                   <code class="literal">Eq</code> instances, and
                 </p></li><li class="listitem"><p>
                   Whenever you give a function, instance or class a
                   <code class="literal">Num t</code> constraint, also give it
                   <code class="literal">Show t</code> and
                   <code class="literal">Eq t</code> constraints.
                 </p></li></ul></div><p>
           </p></li><li class="listitem"><p>
          There is a new feature Safe Haskell
          (<code class="literal">-XSafe</code>,
           <code class="literal">-XTrustworthy</code>,
           <code class="literal">-XUnsafe</code>):
          <a class="xref" href="safe-haskell.html" title="7.23. Safe Haskell">Section 7.23, &#8220;Safe Haskell&#8221;</a>.
          The design has changed since 7.2.
        </p></li><li class="listitem"><p>
          There is a new feature kind polymorphism
          (<code class="literal">-XPolyKinds</code>):
          <a class="xref" href="kind-polymorphism-and-promotion.html#kind-polymorphism" title="7.8.1. Kind polymorphism">Section 7.8.1, &#8220;Kind polymorphism&#8221;</a>.
          A side-effect of this is that, when the extension is not
          enabled, in certain circumstances kinds are now defaulted to
          <code class="literal">*</code>
          rather than being inferred.
        </p></li><li class="listitem"><p>
          There is a new feature constraint kinds (-XConstraintKinds):
          <a class="xref" href="constraint-kind.html" title="7.10. The Constraint kind">Section 7.10, &#8220;The <code class="literal">Constraint</code> kind&#8221;</a>.
        </p></li><li class="listitem"><p>
          It is now possible to give any sort of declaration at the
          ghci prompt:
          <a class="xref" href="interactive-evaluation.html#ghci-decls" title="2.4.4. Type, class and other declarations">Section 2.4.4, &#8220;Type, class and other declarations&#8221;</a>.
        </p></li><li class="listitem"><p>
          The profiling and hpc implementations have been merged and
          overhauled. Visible changes include renaming of profiling
          flags and the cost-centre stacks have a new semantics, which
          should in most cases result in more useful and intuitive
          profiles. The <code class="literal">+RTS -xc</code> flag now also gives
          a stack trace.
        </p></li><li class="listitem"><p>
          It is now possible to write compiler plugins:
          <a class="xref" href="compiler-plugins.html" title="9.3. Compiler Plugins">Section 9.3, &#8220;Compiler Plugins&#8221;</a>.
        </p></li><li class="listitem"><p>
          DPH support has been significantly improved.
        </p></li><li class="listitem"><p>
          There is now preliminary support for registerised
          compilation on the ARM platform, using LLVM.
        </p></li></ul></div></div><div class="sect2" title="1.7.2. Full details"><div class="titlepage"><div><div><h3 class="title"><a name="idp19118080"></a>1.7.2. Full details</h3></div></div></div><div class="sect3" title="1.7.2.1. Language"><div class="titlepage"><div><div><h4 class="title"><a name="idp19118400"></a>1.7.2.1. Language</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    GHC previously accepted this code:
                </p><pre class="programlisting">
data T f = T

class C a where
    t :: f a -&gt; T f
</pre><p>
                    inferring the kind of <code class="literal">f</code> as
                    <code class="literal">* -&gt; *</code>, but it now (correctly,
                    according to the Haskell 98 and Haskell 2010
                    standards) rejects it. You need to write this
                    instead:
                </p><pre class="programlisting">
{-# LANGUAGE KindSignatures #-}

data T (f :: * -&gt; *) = T

class C a where
    t :: f a -&gt; T f
</pre></li><li class="listitem"><p>
                    When the new <code class="literal">DataKinds</code> extension
                    is enabled, suitable user-defined datatypes are
                    automatically "promoted" to kinds, e.g.
                    <code class="literal">Nat</code> here:
                </p><pre class="programlisting">
data Nat = Zero | Succ Nat
data Vector :: * -&gt; Nat -&gt; * where
    VNil :: Vector a Zero
    VCons :: a -&gt; Vector a n -&gt; Vector a (Succ n)
</pre><p>
                    See <a class="xref" href="kind-polymorphism-and-promotion.html#promotion" title="7.8.2. Datatype promotion">Section 7.8.2, &#8220;Datatype promotion&#8221;</a> for more
                    information.
                </p></li><li class="listitem"><p>
                    There is a new extension
                    <code class="literal">PolyKinds</code> which make it possible
                    for kinds to be polymorphic. For example, instead of
                </p><pre class="programlisting">
class Typeable (t :: *) where
  typeOf :: t -&gt; TypeRep

class Typeable1 (t :: * -&gt; *) where
  typeOf1 :: t a -&gt; TypeRep

[...]

instance Typeable  Int  where typeOf _ = TypeRep
instance Typeable1 []   where typeOf _ = TypeRep
</pre><p>
                    you can now say
                </p><pre class="programlisting">
data Proxy t = Proxy

class Typeable t where
  typeOf :: Proxy t -&gt; TypeRep

instance Typeable Int  where typeOf _ = TypeRep
instance Typeable []   where typeOf _ = TypeRep
</pre><p>
                    and the kind of <code class="literal">Proxy</code> is
                    polymorphic:
                    <code class="literal">forall k. k -&gt; *</code>.
                </p><p>
                    This feature is not yet fully mature, but please
                    do file bug reports if you run into problems.
                    See
                    <a class="xref" href="kind-polymorphism-and-promotion.html#kind-polymorphism" title="7.8.1. Kind polymorphism">Section 7.8.1, &#8220;Kind polymorphism&#8221;</a>
                    for more information.
                </p></li><li class="listitem"><p>
                    The Safe Haskell feature, new in GHC 7.2, has been
                    redesigned in GHC 7.4. The motivation was to stop
                    Safe Haskell from causing compilation failures for
                    people not interested in using it.
                </p><p>
                    GHC now tries to infer whether a module is
                    safe, unless the new
                    <code class="literal">-fno-safe-infer</code> flag is given.
                    Therefore, as well as the old
                    <code class="literal">-XSafe</code>, there is now a
                    <code class="literal">-XUnsafe</code>
                    flag to explicitly state that a module should be
                    treated as unsafe. The old
                    <code class="literal">-XSafeImports</code> has been removed.
                </p><p>
                    The new flags <code class="literal">-fwarn-safe</code> and
                    <code class="literal">-fwarn-unsafe</code> give warnings
                    when a module is inferred to be safe or unsafe,
                    respectively.
                </p><p>
                    There is a new flag
                    <code class="literal">-fpackage-trust</code>. This controls
                    whether packages containing imported trustworthy
                    modules must be marked as
                    <code class="literal">trusted</code>.
                </p></li><li class="listitem"><p>
                    There is now a <code class="literal">NOUNPACK</code>
                    pragma, which does the opposite of the existing
                    <code class="literal">PACK</code> pragma. It is mainly useful
                    when <code class="literal">-funbox-strict-fields</code> has
                    been used, allowing you to declare that certain
                    fields should not be unpacked.
                </p></li><li class="listitem"><p>
                    GHC now requires, as per the standard, that
                    if a <code class="literal">newtype</code> is used in an
                    FFI declaration, then the constructor for that
                    type must be in scope. For now you only get a
                    warning if it is not, but in the future this will
                    be an error.
                </p></li><li class="listitem"><p>
                    There is a new extension
                    <code class="literal">ConstraintKind</code>
                    which adds a new kind, called
                    <code class="literal">Constraint</code>,
                    to GHC's type system. Then, for example,
                </p><pre class="programlisting">
Show :: * -&gt; Constraint
(?x::Int) :: Constraint
(Int ~ a) :: Constraint
</pre><p>
                    You can now write <span style="color: red">&lt;em&gt;any&lt;/em&gt;</span> type with kind
                    <code class="literal">Constraint</code> on the left of
                    <code class="literal">=&gt;</code>, i.e. you can use type
                    synonyms, type variables, indexed types, etc.
                </p></li><li class="listitem"><p>
                    It is now possible to derive an
                    <code class="literal">Eq</code> instance for types with no
                    constructors.
                </p></li><li class="listitem"><p>
                    In the <code class="literal">MonadComprehensions</code>
                    extension, the
                    <code class="literal">then group by e</code>
                    form has been removed. You now need to explicitly
                    say
                    <code class="literal">then group by e using groupWith</code>.
                </p></li><li class="listitem"><p>
                    There is a new extension
                    <code class="literal">TraditionalRecordSyntax</code> which is
                    on by default. When turned off, the standard Haskell
                    record syntax cannot be used.
                </p></li><li class="listitem"><p>
                    In DPH, it is now possible to vectorise things
                    imported from other modules.
                </p></li><li class="listitem"><p>
                    In DPH, the <code class="literal">VECTORISE</code> and
                    <code class="literal">VECTORISE SCALAR</code> pragmas now have
                    <code class="literal">type</code>, <code class="literal">class</code>
                    and <code class="literal">instance</code> variants.
                    See
                    <a class="ulink" href="http://hackage.haskell.org/trac/ghc/wiki/DataParallel/VectPragma" target="_top">VectPragma</a> for more details.
                </p></li><li class="listitem"><p>
                    The <code class="literal">-fdph-seq</code>,
                    <code class="literal">-fdph-par</code>,
                    <code class="literal">-fdph-this</code> and
                    <code class="literal">-fdph-none</code> flags have been
                    removed. The vectoriser is now controlled by which
                    <code class="literal">Data.Array.Parallel</code> and
                    <code class="literal">Data.Array.Parallel.Prim</code>
                    modules are in scope.
                </p></li><li class="listitem"><p>
                    GHC now warns consistently about unused type
                    variables.
                </p></li><li class="listitem"><p>
                    GHC now implements the static pattern semantics
                    as clarified by the Haskell' committee, i.e.
                    the binding <code class="literal">p = e</code> is now
                    equivalent to
                </p><pre class="programlisting">
t = e
f = case t of p -&gt; f
g = case t of p -&gt; g
</pre><p>
                    where <code class="literal">f</code> and <code class="literal">g</code>
                    are the variables bound by <code class="literal">p</code>.
                </p></li><li class="listitem"><p>
                    The <code class="literal">MonoPatBinds</code>
                    extension is now deprecated, and has no effect.
                </p></li><li class="listitem"><p>
                    GHC will now reject a declaration if it infers a
                    type for it that is impossible to use unambiguously.
                    For example, given
                </p><pre class="programlisting">
class Wob a b where
    to :: a -&gt; b
    from :: b -&gt; a

foo x = [x, to (from x)]
</pre><p>
                    GHC would infer the ambiguous type
                </p><pre class="programlisting">
foo :: forall a b. Wob a b =&gt; b -&gt; [b]
</pre><p>
                    but it is impossible to use
                    <code class="literal">foo</code> as
                    <code class="literal">a</code> will always be ambiguous,
                    so the declaration is rejected.
                </p></li><li class="listitem"><p>
                    It is now possible for associated types to have
                    fresh parameters, e.g. this is now allowed:
                </p><pre class="programlisting">
class C a where
    type T a b :: *

instance C Int
    type T Int b = b -&gt; b
</pre><p>
                    where <code class="literal">T</code> has a type index
                    <code class="literal">b</code> that is not one of the class
                    variables.
                </p></li><li class="listitem"><p>
                    It is now possible for multiple associated type
                    declarations to be given in a single instance,
                    e.g.
                </p><pre class="programlisting">
class C a where
    type T a x :: *

data A
data B

instance C Int where
    type T Int A = Int
    type T Int B = Bool
</pre></li><li class="listitem"><p>
                    The import and export of type family data
                    constructors has been refined. You now need to be
                    more explicit about what should be exported.
                </p></li><li class="listitem"><p>
                    Associated type default declarations are now
                    fully supported. These allow you to specify
                    a default definition for a type that will be used
                    if an instance doesn't define its own type, e.g.
                </p><pre class="programlisting">
class Cls a where
    type Typ a
    type Typ a = Maybe a
              
instance Cls Int where
</pre><p>
                    See <a class="xref" href="type-families.html#assoc-decl-defs" title="7.7.3.2. Associated type synonym defaults">Section 7.7.3.2, &#8220;Associated type synonym defaults&#8221;</a> for more
                    information.
                </p></li><li class="listitem"><p>
                    You can now specify what simplifier phases
                    <code class="literal">SPECIALISE</code> pragmas should be
                    applied in, in the same way that you could for
                    <code class="literal">RULE</code> pragmas, e.g. to specialise
                    <code class="literal">foo</code> only in phase 1 use:
                </p><pre class="programlisting">
{-# SPECIALISE [1] foo :: Int -&gt; Int #-}
</pre></li><li class="listitem"><p>
                    The typechecker is now able to do full constraint
                    solving under a for-all, i.e. it can cope with the
                    unification
                    <code class="literal">forall a. t1  ~  forall a. t2</code>.
                </p></li><li class="listitem"><p>
                    The kind <code class="literal">?</code> has been renamed to
                    <code class="literal">OpenKind</code>, and
                    <code class="literal">??</code> to <code class="literal">ArgKind</code>.
                </p></li></ul></div></div><div class="sect3" title="1.7.2.2. Compiler"><div class="titlepage"><div><div><h4 class="title"><a name="idp19165848"></a>1.7.2.2. Compiler</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    The recompilation checker now takes into account
                    what flags were used when compiling. For example,
                    if you first run <code class="literal">ghc -c Foo.hs</code>,
                    and then <code class="literal">ghc -DBAR -c Foo.hs</code>,
                    then GHC will now recompile
                    <code class="literal">Foo.hs</code>.
                </p></li><li class="listitem"><p>
                    The recompilation checker now also tracks files that
                    are <code class="literal">#include</code>d in Haskell sources.
                </p><p>
                    Note that we still don't get
                    <code class="literal">#include</code>d files in the
                    <code class="literal">ghc -M</code> output.
                </p></li><li class="listitem"><p>
                    The simplifier now maintains a count of how much
                    transformation it does, and prints a warning if
                    that exceeds a limit defined by the new
                    <code class="literal">-fsimpl-tick-factor=N</code> flag
                    (default is 100). The intention is to detect when
                    it seems likely that GHC has gone into an infinite
                    loop. In the future, GHC may give an error when the
                    limit is exceeded.
                </p></li><li class="listitem"><p>
                    There is a new flag
                    <code class="literal">-fpedantic-bottoms</code> which makes
                    GHC be more precise about its treatment of bottoms.
                    In particular, it stops GHC eta-expanding through
                    case expressions (which means performance can be
                    worse).
                </p></li><li class="listitem"><p>
                    GHC now knows how to call gcc to compile
                    objective-c++ (<code class="literal">.mm</code> or
                    <code class="literal">.M</code> files).
                </p></li><li class="listitem"><p>
                    The <code class="literal">-optm</code>
                    flag, which allowed extra arguments to be passed to
                    the mangler, is now deprecated and does nothing.
                    It will be removed in a future release.
                </p></li><li class="listitem"><p>
                    GHC now works with LLVM version 3.0, and requires at
                    least version 2.8.
                </p></li><li class="listitem"><p>
                    We now pass gcc
                    <code class="literal">-no_compact_unwind</code>
                    on OS X x86 (as well as x86_64), in order to avoid
                    the
                </p><pre class="programlisting">
ld: warning: could not create compact unwind for .LFB3: non-standard register 5 being saved in prolog
</pre><p>
                    warning.
                </p></li><li class="listitem"><p>
                    The context stack depth, which defines how deeply
                    the type constraint solver may reason, has been
                    increased from 20 to 200, as some people were
                    running into the limit.
                </p></li><li class="listitem"><p>
                    On x86, the new <code class="literal">-msse4.2</code>
                    flag tells GHC that it may use SSE4.2 instructions.
                </p></li><li class="listitem"><p>
                    There is a new flag
                    <code class="literal">-dno-llvm-mangler</code>
                    which means the LLVM mangler isn't run. It is mainly
                    useful when debugging GHC.
                </p></li><li class="listitem"><p>
                    There is a new flag
                    <code class="literal">-dsuppress-var-kinds</code>
                    which can make the output clearer when
                    <code class="literal">-dppr-debug</code> is also used.
                </p></li><li class="listitem"><p>
                    The <code class="literal">-keep-llvm-files</code>
                    flag now implies <code class="literal">-fllvm</code>.
                </p></li><li class="listitem"><p>
                    The <code class="literal">-split-objs</code> flag can now be
                    used with the LLVM backend.
                </p></li><li class="listitem"><p>
                    There is a new flag <code class="literal">-dumpdir</code>
                    which allows you to specify the directory in which
                    the output of the <code class="literal">-ddump-*</code> flags
                    should be put when <code class="literal">-ddump-to-file</code>
                    is used. The <code class="literal">-outputdir</code> flag will
                    now also set the dump directory.
                </p></li><li class="listitem"><p>
                    Bitrotted registerised ports for mips, ia64, alpha,
                    hppa1 and m68k have been removed.
                </p></li></ul></div></div><div class="sect3" title="1.7.2.3. GHCi"><div class="titlepage"><div><div><h4 class="title"><a name="idp19185256"></a>1.7.2.3. GHCi</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    It is now possible to give any top-level
                    declaration at the GHCi prompt, e.g.
                </p><pre class="programlisting">
Prelude&gt; data D = C Int
Prelude&gt; let f (C i) = i in f (C 5)
5
</pre><p>
                    The current set of declarations are shown by
                    the new
                    <code class="literal">:show bindings</code>
                    command. See
                    <a class="xref" href="interactive-evaluation.html#ghci-decls" title="2.4.4. Type, class and other declarations">Section 2.4.4, &#8220;Type, class and other declarations&#8221;</a>.
                    for more information
                </p></li><li class="listitem"><p>
                    There is a new GHCi command
                    <code class="literal">:kind!</code>
                    which is like
                    <code class="literal">:kind</code>
                    except it also prints the normalised type; e.g., given
                </p><pre class="programlisting">
type family F a
type instance F Int = Bool
</pre><p>
                    we get
                </p><pre class="programlisting">
*Main&gt; :kind F Int
F Int :: *
*Main&gt; :kind! F Int
F Int :: *
= Bool
</pre></li><li class="listitem"><p>
                    There is a new flag
                    <code class="literal">-fno-ghci-history</code>
                    which stops GHCi from loading and saving the GHCi
                    command history from and to
                    <code class="literal">~/.ghc/ghci_history</code>.
                </p></li><li class="listitem"><p>
                    Library loading in GHCi has been improved; in
                    particular, loading
                    <code class="literal">libstdc++.so</code>
                    now works, and GHCi will use
                    <code class="literal">.a</code> archives to satisfy
                    <code class="literal">-lfoo</code> flags on its commandline.
                </p></li><li class="listitem"><p>
                    When using
                    <code class="literal">:load</code>, GHCi will not unload
                    the current modules until it has successfully loaded
                    the new ones. This fixes this old problem:
                </p><pre class="programlisting">
Prelude&gt; :l foo
target `foo' is not a module name or a source file
&gt;
</pre></li></ul></div></div><div class="sect3" title="1.7.2.4. Template Haskell"><div class="titlepage"><div><div><h4 class="title"><a name="idp19194712"></a>1.7.2.4. Template Haskell</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    GHC used to treat <code class="literal">\|</code>
                    and <code class="literal">\]</code> within quasiquote as
                    escaped characters, parsing them as
                    <code class="literal">|</code> and <code class="literal">]</code>
                    respectively. It now does not treat anything
                    specially; if you would like to be able to include
                    sequences such as <code class="literal">|]</code> inside a
                    quasi-quote then you must define your own escaping
                    mechanism in the quasi-quoter.
                </p></li><li class="listitem"><p>
                    The interaction between the recompilation checker
                    and Template Haskell has been improved. We now
                    track which modules are used by splices, and if
                    a module is changed then any splices that use it
                    will need to be rerun.
                </p></li></ul></div></div><div class="sect3" title="1.7.2.5. Profiling"><div class="titlepage"><div><div><h4 class="title"><a name="idp19198632"></a>1.7.2.5. Profiling</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    The profiling, coverage (HPC) and breakpoints
                    infrastructure has been overhauled, and the
                    three systems are now much more unified.
                </p><p>
                    As a result of these changes, the cost-centre
                    stacks have a new semantics, which should give
                    more intuitive profiling results. HPC is also
                    slightly improved: In particular, unused derived
                    instances and record field names are now
                    highlighted, and entry counts are more accurate.
                </p><p>
                    The <code class="literal">+RTS -xc</code> flag now also gives
                    a stack trace.
                </p><p>
                    The
                    <code class="literal">-auto-all</code> flag has been renamed
                    to <code class="literal">-fprof-auto</code>,
                    <code class="literal">-auto</code> renamed to
                    <code class="literal">-fprof-auto-exported</code>, and
                    <code class="literal">-caf-all</code> renamed to
                    <code class="literal">-fprof-cafs</code>. The old names are
                    also still accepted for now.
                </p><p>
                    There are also two new flags.
                    The <code class="literal">-fprof-auto-top</code> flag
                    annotates all top-level bindings with SCCs, and
                    the <code class="literal">-fprof-auto-calls</code> flag
                    adds SCCs to all applications. This last flag
                    is particularly useful for stack traces.
                </p><p>
                    Another new flag
                    <code class="literal">-fprof-no-count-entries</code>
                    indicates that entry counts do not need to be
                    maintained. This makes profiled code faster, and
                    is particularly useful when heap profiling, as
                    heap profiles do not use the entry counts.
                </p></li><li class="listitem"><p>
                    Cost centre names are now in UTF8 rather than
                    Latin-1.
                </p></li><li class="listitem"><p>
                    There is now better heap profiling support for
                    pinned objects (e.g. <code class="literal">ByteStrings</code>).
                    Previously we were completely ignoring them,
                    due to technical difficulties, but now count
                    all the pinned object space (including gaps between
                    pinned objects) as being type
                    <code class="literal">ARR_WORDS</code>. This isn't ideal, but
                    at least we do now account for the memory, and give
                    it the right type.
                </p></li><li class="listitem"><p>
                    The quotes in an <code class="literal">SCC</code> pragma can
                    now be omitted if the SCC name is a valid Haskell
                    variable name, e.g.
                    <code class="literal">{-# SCC  my_function #-} expr</code>.
                </p></li><li class="listitem"><p>
                    It is now possible to use profiling when running on
                    multiple capabilities (i.e. when running with
                    <code class="literal">+RTS -N</code>). There is a new built-in
                    cost centre called <code class="literal">IDLE</code>, which
                    records the ticks of idle capabilities.
                </p><p>
                    There are still some rough edges. In particular,
                    it is strongly recommended that you use the
                    <code class="literal">-fno-prof-count-entries</code> flag
                    or the program will run very slowly.
                </p></li></ul></div></div><div class="sect3" title="1.7.2.6. Event logging"><div class="titlepage"><div><div><h4 class="title"><a name="idp19211528"></a>1.7.2.6. Event logging</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    There are new eventlog events
                    <code class="literal">EVENT_SPARK_COUNTERS</code>
                    <code class="literal">EVENT_SPARK_CREATE</code>
                    <code class="literal">EVENT_SPARK_DUD</code>
                    <code class="literal">EVENT_SPARK_OVERFLOW</code>
                    <code class="literal">EVENT_SPARK_RUN</code>
                    <code class="literal">EVENT_SPARK_STEAL</code>
                    <code class="literal">EVENT_SPARK_FIZZLE</code> and
                    <code class="literal">EVENT_SPARK_GC</code> for giving
                    information about sparks.
                </p></li><li class="listitem"><p>
                    There is a new eventlog event
                    <code class="literal">EVENT_WALL_CLOCK_TIME</code>
                    which is used for matching the time of events
                    between different processes.
                </p></li><li class="listitem"><p>
                    There is a new eventlog event
                    <code class="literal">EVENT_THREAD_LABEL</code>
                    which is emitted by the existing
                    <code class="literal">GHC.Conc.labelThread</code>
                    function. This allows tools such as
                    ThreadScope to use thread labels rather
                    than thread numbers.
                </p></li><li class="listitem"><p>
                    The eventlog class <code class="literal">g</code>
                    is no longer ignored, but now controls whether
                    events related to the garbage collector are emitted.
                    There are also new event classes
                    <code class="literal">p</code> and
                    <code class="literal">f</code>, which contain sampled
                    (approximate) and full (fully accurate)
                    spark-related events respectively, and
                    <code class="literal">u</code> which contains user events.
                </p><p>
                    There is also a meta eventlog class
                    <code class="literal">a</code> which, when enabled or
                    disabled, enables or disables all the classes.
                </p><p>
                    By default, all classes apart from
                    <code class="literal">f</code> are enabled.
                </p></li><li class="listitem"><p>
                    On Windows, if the program name ends in
                    <code class="literal">.exe</code> then the
                    <code class="literal">.exe</code> is removed when making
                    the eventlog filename.
                </p></li></ul></div></div><div class="sect3" title="1.7.2.7. Runtime system"><div class="titlepage"><div><div><h4 class="title"><a name="idp19222848"></a>1.7.2.7. Runtime system</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    The restrictions on what
                    <code class="literal">+RTS</code>
                    flags are available by default has changed.
                    By default, you can now use the
                    <code class="literal">-t</code>,
                    <code class="literal">-T</code>,
                    <code class="literal">-s</code> and
                    <code class="literal">-S</code> RTS flags, provided you do not
                    give them a filename argument.
                </p><p>
                    Additionally, when linking with
                    <code class="literal">-threaded</code>, you can now use the
                    <code class="literal">+RTS -N</code> flag without having
                    to link with <code class="literal">-rtsopts</code>.
                    Also, when linking with "developer" ways
                    (<code class="literal">-debug</code>,
                    <code class="literal">-eventlog</code> and
                    <code class="literal">-prof</code>) all the way-specific flags
                    are allowed; for example,
                    <code class="literal">+RTS -h</code> is allowed when linking
                    with <code class="literal">-prof</code>.
                </p></li><li class="listitem"><p>
                    There is a new RTS flag
                    <code class="literal">-T</code>, which makes the RTS collect
                    statistics (memory usage, etc) but not give any
                    output. The new <code class="literal">GHC.Stats</code>
                    module in the <code class="literal">base</code> package
                    provides access to this data.
                </p></li><li class="listitem"><p>
                    You can now give the RTS flag
                    <code class="literal">-H</code>
                    (without an argument) and the runtime system
                    will infer a sensible value to use. See
                    <a class="xref" href="runtime-control.html#rts-options-gc" title="4.17.3. RTS options to control the garbage collector">Section 4.17.3, &#8220;RTS options to control the garbage collector&#8221;</a> for more details.
                </p></li><li class="listitem"><p>
                    When using <code class="literal">-no-hs-main</code>
                    and starting the runtime system yourself,
                    if you wish to pass RTS flags then you will now
                    need to use the new <code class="literal">hs_init_ghc</code>
                    function. See <a class="xref" href="ffi-ghc.html#using-own-main" title="8.2.1.1. Using your own main()">Section 8.2.1.1, &#8220;Using your own <code class="literal">main()</code>&#8221;</a>
                    for details.
                </p></li><li class="listitem"><p>
                    The runtime system now supports using
                    <code class="literal">forkProcess</code>
                    when running with multiple capabilities
                    (<code class="literal">+RTS -N</code>).
                </p></li></ul></div></div><div class="sect3" title="1.7.2.8. Build system"><div class="titlepage"><div><div><h4 class="title"><a name="idp19235664"></a>1.7.2.8. Build system</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    You can now build GHC with Alex 3.0.
                </p></li><li class="listitem"><p>
                    On OS X, with XCode 4.0 and 4.1, GHC will use
                    gcc-4.2 rather than gcc (which is based on LLVM,
                    and currently produces slower code for GHC).
                </p></li><li class="listitem"><p>
                    There is now preliminary support for registerised
                    compilation on the ARM platform, using LLVM.
                </p></li><li class="listitem"><p>
                    Dynamic libraries are now supported on OSX x86_64.
                </p></li><li class="listitem"><p>
                    GHCi is now supported on kfreebsdgnu platforms.
                </p></li><li class="listitem"><p>
                    GHC now recognises the s390x architecture.
                </p></li></ul></div></div></div><div class="sect2" title="1.7.3. Libraries"><div class="titlepage"><div><div><h3 class="title"><a name="idp19239376"></a>1.7.3. Libraries</h3></div></div></div><p>
        There have been some changes that have effected multiple
        libraries:
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                The <code class="literal">Num</code> class no longer has
                <code class="literal">Eq</code> or <code class="literal">Show</code>
                superclasses. A number of other classes and
                functions have therefore gained explicit
                <code class="literal">Eq</code> or <code class="literal">Show</code>
                constraints, rather than relying on a
                <code class="literal">Num</code> constraint to provide them.
            </p><p>
               You can make code that works with both
               Haskell98/Haskell2010 and GHC by:
               </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                     Whenever you make a <code class="literal">Num</code> instance
                     of a type, also make <code class="literal">Show</code> and
                     <code class="literal">Eq</code> instances, and
                   </p></li><li class="listitem"><p>
                     Whenever you give a function, instance or class a
                     <code class="literal">Num t</code> constraint, also give it
                     <code class="literal">Show t</code> and
                     <code class="literal">Eq t</code> constraints.
                   </p></li></ul></div><p>
             </p></li><li class="listitem"><p>
                Many modules have been given Safe Haskell
                <code class="literal">Safe</code>, <code class="literal">Unsafe</code> or
                <code class="literal">Trustworthy</code> annotations.
            </p></li></ul></div><div class="sect3" title="1.7.3.1. array"><div class="titlepage"><div><div><h4 class="title"><a name="idp19248272"></a>1.7.3.1. array</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 0.4.0.0 (was 0.3.0.3)
                </p></li><li class="listitem"><p>
                    There are new modules
                    <code class="literal">Data.Array.IO.Safe</code>,
                    <code class="literal">Data.Array.MArray.Safe</code>,
                    <code class="literal">Data.Array.ST.Safe</code> and
                    <code class="literal">Data.Array.Storable.Safe</code>
                    containing just the safe (in the Safe Haskell sense
                    of the term) parts of their respective APIs, and
                    <code class="literal">Data.Array.Unsafe</code> containing
                    the unsafe parts of the
                    <code class="literal">Data.Array</code> API.
                </p></li><li class="listitem"><p>
                    There is a new module
                    <code class="literal">Data.Array.Storable.Internals</code>
                    which exports some internal functions for the
                    <code class="literal">Data.Array.Storable</code> API.
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.Array.IO.castIOUArray</code>
                    is now deprecated; use
                    <code class="literal">Data.Array.Unsafe.castIOUArray</code>
                    instead.
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.Array.ST.castSTUArray</code>
                    is now deprecated; use
                    <code class="literal">Data.Array.Unsafe.castSTUArray</code>
                    instead.
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.Array.MArray.unsafeFreeze</code>
                    and <code class="literal">Data.Array.MArray.unsafeThaw</code>
                    are now deprecated; use
                    <code class="literal">Data.Array.Unsafe.unsafeFreeze</code>
                    and <code class="literal">Data.Array.Unsafe.unsafeThaw</code>
                    instead.
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.Array.Storable.unsafeForeignPtrToStorableArray</code>
                    is now deprecated; use
                    <code class="literal">Data.Array.Unsafe.unsafeForeignPtrToStorableArray</code>
                    instead.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.2. base"><div class="titlepage"><div><div><h4 class="title"><a name="idp19259400"></a>1.7.3.2. base</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 4.5.0.0 (was 4.4.1.0)
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.Monoid</code> now exports
                    <code class="literal">&lt;&gt;</code> as an infix synonym for
                    <code class="literal">mappend</code> It associates to the
                    right, and has precedence 6.
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.List</code> has a new function
                    <code class="literal">dropWhileEnd</code>, which is similar to
                    <code class="literal">dropWhile</code> except it removes the
                    suffix of characters matching the predicate, rather
                    than the prefix of characters.
                </p></li><li class="listitem"><p>
                    The <code class="literal">Data.Bits.Bits</code>
                    class has two new methods
                    <code class="literal">unsafeShiftL</code> and
                    <code class="literal">unsafeShiftR</code> which perform shifts
                    on the assumption that the amount to be shifted by
                    is positive.
                </p></li><li class="listitem"><p>
                    The <code class="literal">Data.Bits.Bits</code>
                    class has a new method <code class="literal">popCount</code>
                    which returns the number of bits that are set in the
                    value.
                </p></li><li class="listitem"><p>
                    The <code class="literal">C*</code> types exported by
                    <code class="literal">Foreign.C.Types</code> and
                    <code class="literal">System.Posix.Types</code> are now
                    exported non-abstractly, as the FFI now requires
                    that the constructors for newtypes are visible.
                </p></li><li class="listitem"><p>
                    In <code class="literal">Data.Typeable</code>,
                    <code class="literal">tyConString</code> is now deprecated,
                    in favour of the new
                    <code class="literal">tyConPackage</code>,
                    <code class="literal">tyConModule</code> and
                    <code class="literal">tyConName</code> functions.
                </p></li><li class="listitem"><p>
                    <code class="literal">GHC.Exts.traceEvent</code>
                    is now deprecated. You should use the new
                    <code class="literal">Debug.Trace.traceEventIO</code>
                    instead. There is also a new function
                    <code class="literal">Debug.Trace.traceEvent</code> that is
                    analogous to <code class="literal">Debug.Trace.trace</code>.
                </p></li><li class="listitem"><p>
                    <code class="literal">Debug.Trace.putTraceMsg</code>
                    is now deprecated in favour of the new function
                    <code class="literal">Debug.Trace.traceIO</code>.
                </p></li><li class="listitem"><p>
                    When a program is compiled with
                    <code class="literal">-prof</code>, GHC's run-time system now
                    makes a stack trace (based on the SCCs defined)
                    available to the program.
                </p><p>
                    There is a new function
                    <code class="literal">GHC.Exts.currentCallStack</code> which
                    returns the stack trace as a list of
                    <code class="literal">String</code>s.
                </p><p>
                    There is also a new function
                    <code class="literal">Debug.Trace.traceStack</code> which is
                    like <code class="literal">Debug.Trace.trace</code> but also
                    prints a call stack trace if one is available.
                </p></li><li class="listitem"><p>
                    <code class="literal">GHC.Conc</code> has a new function,
                    <code class="literal">getNumProcessors</code>, which returns
                    the number of CPUs that the machine has.
                </p></li><li class="listitem"><p>
                    <code class="literal">GHC.Conc</code> has a new function,
                    <code class="literal">setNumCapabilities</code>, which sets
                    the number of Haskell threads which can run
                    simultaneously. Currently GHC only allows increasing
                    the number of running threads.
                </p></li><li class="listitem"><p>
                    The encodings used for the filesystem, for foreign
                    calls, and for the locale, are now mutable.
                    In order to alter them you need to use
                    <code class="literal">setLocaleEncoding</code>,
                    <code class="literal">setFileSystemEncoding</code> and
                    <code class="literal">setForeignEncoding</code> from
                    <code class="literal">GHC.IO.Encoding</code>.
                </p></li><li class="listitem"><p>
                    Assertions are now better behaved; if an assertion
                    fails then you will get an assertion error, rather
                    than another <code class="literal">_|_</code> result from the
                    expression that the assertion guards.
                </p></li><li class="listitem"><p>
                    A bug in the behaviour of
                    <code class="literal">scaleFloat</code> on
                    <code class="literal">Float</code> and
                    <code class="literal">Double</code> when used with non-finite
                    values has been fixed.
                </p></li><li class="listitem"><p>
                    A bug which meant that
                    <code class="literal">System.IO.fixIO</code> was not
                    threadsafe has been fixed.
                </p><p>
                    There is also now a new
                    <code class="literal">System.IO.Unsafe.unsafeFixIO</code> that
                    may be more efficient, but is not guaranteed to be
                    threadsafe.
                </p></li><li class="listitem"><p>
                    There is a new module <code class="literal">GHC.Stats</code>
                    which exports a function
                    <code class="literal">getGCStats</code> which gives some info
                    from the runtime system using the
                    <code class="literal">GCStats</code> type.
                </p></li><li class="listitem"><p>
                    There is a new type
                    <code class="literal">GHC.Exts.Constraint</code> which
                    is used with the <code class="literal">ConstraintKind</code>
                    extension.
                </p></li><li class="listitem"><p>
                    The <code class="literal">Control.Monad.Group</code> module,
                    and the <code class="literal">MonadGroup</code> class that it
                    defined, have been removed.
                </p></li><li class="listitem"><p>
                    Support for platforms where word size is less than
                    32bits has been removed.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.3. bin-package-db"><div class="titlepage"><div><div><h4 class="title"><a name="idp19291080"></a>1.7.3.3. bin-package-db</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    This is an internal package, and should not be used.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.4. binary"><div class="titlepage"><div><div><h4 class="title"><a name="idp19292160"></a>1.7.3.4. binary</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 0.5.0.3 (was 0.5.0.2)
                    It is now exposed by default.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.5. bytestring"><div class="titlepage"><div><div><h4 class="title"><a name="idp19293272"></a>1.7.3.5. bytestring</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 0.9.2.1 (was 0.9.2.0)
                </p></li></ul></div></div><div class="sect3" title="1.7.3.6. Cabal"><div class="titlepage"><div><div><h4 class="title"><a name="idp19294328"></a>1.7.3.6. Cabal</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 1.14.0.0 (was 1.12.0.0)
                </p></li><li class="listitem"><p>
                    For details of the changes to the Cabal library,
                    plese see the Cabal changelog.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.7. containers"><div class="titlepage"><div><div><h4 class="title"><a name="idp19295920"></a>1.7.3.7. containers</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 0.4.2.1 (was 0.4.1.0)
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.Map</code>
                    now exports
                    <code class="literal">foldr</code>,
                    <code class="literal">foldr'</code>,
                    <code class="literal">foldl</code> and
                    <code class="literal">foldl'</code>.
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.Set</code>
                    now exports
                    <code class="literal">foldr</code>,
                    <code class="literal">foldr'</code>,
                    <code class="literal">foldl</code> and
                    <code class="literal">foldl'</code>.
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.IntMap</code>
                    now exports
                    <code class="literal">foldr</code>,
                    <code class="literal">foldr'</code>,
                    <code class="literal">foldl</code>,
                    <code class="literal">foldl'</code>,
                    <code class="literal">foldrWithKey</code>,
                    <code class="literal">foldrWithKey'</code>,
                    <code class="literal">foldlWithKey</code> and
                    <code class="literal">foldlWithKey'</code>.
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.IntSet</code>
                    now exports
                    <code class="literal">foldr</code>,
                    <code class="literal">foldr'</code>,
                    <code class="literal">foldl</code> and
                    <code class="literal">foldl'</code>.
                </p></li><li class="listitem"><p>
                    <code class="literal">Data.Map.foldWithKey</code> is no
                    longer deprecated, although it is expected to
                    be deprecated again in the future.
                </p></li><li class="listitem"><p>
                    There are now
                    <code class="literal">NFData</code>
                    instance for
                    <code class="literal">Data.Map.Map</code>,
                    <code class="literal">Data.Set.Set</code>,
                    <code class="literal">Data.IntMap.IntMap</code>,
                    <code class="literal">Data.IntSet.IntSet</code> and
                    <code class="literal">Data.Tree.Tree</code>.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.8. deepseq"><div class="titlepage"><div><div><h4 class="title"><a name="idp19311328"></a>1.7.3.8. deepseq</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    New package, version 1.3.0.0.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.9. directory"><div class="titlepage"><div><div><h4 class="title"><a name="idp19312376"></a>1.7.3.9. directory</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 1.1.0.2 (was 1.1.0.1)
                </p></li></ul></div></div><div class="sect3" title="1.7.3.10. extensible-exceptions"><div class="titlepage"><div><div><h4 class="title"><a name="idp19313432"></a>1.7.3.10. extensible-exceptions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 0.1.1.4 (was 0.1.1.3)
                </p></li></ul></div></div><div class="sect3" title="1.7.3.11. filepath"><div class="titlepage"><div><div><h4 class="title"><a name="idp19314504"></a>1.7.3.11. filepath</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 1.3.0.0 (was 1.2.0.1)
                </p></li><li class="listitem"><p>
                    A bug, which caused
                    <code class="literal">normalise "/"</code> to return
                    <code class="literal">"/."</code> rather than
                    <code class="literal">"/"</code>, has been fixed.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.12. ghc-prim"><div class="titlepage"><div><div><h4 class="title"><a name="idp19317160"></a>1.7.3.12. ghc-prim</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    This is an internal package, and should not be used.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.13. haskell98"><div class="titlepage"><div><div><h4 class="title"><a name="idp19318232"></a>1.7.3.13. haskell98</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 2.0.0.1 (was 2.0.0.0)
                </p></li></ul></div></div><div class="sect3" title="1.7.3.14. haskell2010"><div class="titlepage"><div><div><h4 class="title"><a name="idp19319288"></a>1.7.3.14. haskell2010</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 1.1.0.1 (was 1.1.0.0)
                </p></li></ul></div></div><div class="sect3" title="1.7.3.15. hoopl"><div class="titlepage"><div><div><h4 class="title"><a name="idp19320344"></a>1.7.3.15. hoopl</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 3.8.7.3 (was 3.8.7.2)
                </p></li><li class="listitem"><p>
                    A new <code class="literal">liftFuel</code> method has been
                    added to
                    <code class="literal">Compiler.Hoopl.Fuel.FuelMonadT</code>.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.16. hpc"><div class="titlepage"><div><div><h4 class="title"><a name="idp19322624"></a>1.7.3.16. hpc</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 0.5.1.1 (was 0.5.1.0)
                </p></li></ul></div></div><div class="sect3" title="1.7.3.17. integer-gmp"><div class="titlepage"><div><div><h4 class="title"><a name="idp19323664"></a>1.7.3.17. integer-gmp</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 0.4.0.0 (was 0.3.0.0)
                </p></li><li class="listitem"><p>
                    There is a new module
                    <code class="literal">GHC.Integer.GMP.Prim</code>
                    that exports the Haskell imports of the GMP
                    functions. They are no longer exported by
                    <code class="literal">GHC.Integer.GMP.Internals</code>.
                </p></li><li class="listitem"><p>
                    <code class="literal">GHC.Integer.GMP.Internals</code>
                    now exports <code class="literal">gcdInteger</code> and
                    <code class="literal">lcmInteger</code>. They are no longer
                    exported by <code class="literal">GHC.Integer</code>.
                </p></li><li class="listitem"><p>
                    There is a new function <code class="literal">mkInteger</code>
                    exported from <code class="literal">GHC.Integer.Type</code>
                    and <code class="literal">GHC.Integer</code>. It constructs an
                    <code class="literal">Integer</code> from a
                    <code class="literal">Bool</code> (indicating the sign) and a
                    list of <code class="literal">Int</code>s (which provide the
                    value, in 31-bit chunks, least-significant first).
                </p></li></ul></div></div><div class="sect3" title="1.7.3.18. old-locale"><div class="titlepage"><div><div><h4 class="title"><a name="idp19330872"></a>1.7.3.18. old-locale</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 1.0.0.4 (was 1.0.0.3)
                </p></li></ul></div></div><div class="sect3" title="1.7.3.19. old-time"><div class="titlepage"><div><div><h4 class="title"><a name="idp19331928"></a>1.7.3.19. old-time</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 1.1.0.0 (was 1.0.0.7)
                </p></li><li class="listitem"><p>
                    A bug which caused
                    <code class="literal">System.Time.formatCalendarTime</code>
                    to show a value 1 too low for the
                    <code class="literal">%j</code> format specifier has been fixed.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.20. pretty"><div class="titlepage"><div><div><h4 class="title"><a name="idp19334296"></a>1.7.3.20. pretty</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 1.1.1.0 (was 1.1.0.0)
                </p></li><li class="listitem"><p>
                    The recommended module is now
                    <code class="literal">Text.PrettyPrint</code> rather than
                    <code class="literal">Text.PrettyPrint.HughesPJ</code>.
                </p></li><li class="listitem"><p>
                    Both modules now export <code class="literal">first</code>,
                    which takes two documents and returns the first
                    provided it is non-empty, and the second otherwise.
                </p></li><li class="listitem"><p>
                    Both modules now export
                    <code class="literal">reduceDoc</code>.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.21. process"><div class="titlepage"><div><div><h4 class="title"><a name="idp19338368"></a>1.7.3.21. process</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 1.1.0.1 (was 1.1.0.0)
                </p></li></ul></div></div><div class="sect3" title="1.7.3.22. template-haskell"><div class="titlepage"><div><div><h4 class="title"><a name="idp19339424"></a>1.7.3.22. template-haskell</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 2.7.0.0 (was 2.6.0.0)
                </p></li><li class="listitem"><p>
                    The
                    <code class="literal">Language.Haskell.TH.Syntax.Quasi</code>
                    class now has a <code class="literal">qAddDependentFile</code>
                    method, which splices can use to indicate that the
                    result of the splice depends upon the contents of
                    a file. This tells the compiler that if the file
                    has changed then it will need to recompile the
                    module containing the splice.
                </p><p>
                    There is also a new helper function
                    <code class="literal">addDependentFile</code> in
                    <code class="literal">Language.Haskell.TH.Syntax</code>.
                </p></li><li class="listitem"><p>
                    The
                    <code class="literal">Language.Haskell.TH.Syntax.Exp</code>
                    type now has <code class="literal">UInfixE</code> and
                    <code class="literal">ParensE</code> constructors, and
                    <code class="literal">Language.Haskell.TH.Syntax.Pat</code>
                    gains corresponding <code class="literal">UInfixP</code>
                    and <code class="literal">ParensP</code> constructors.
                </p><p>
                    There are corresponding helper functions
                    <code class="literal">uInfixE</code>,
                    <code class="literal">parensE</code>,
                    <code class="literal">uInfixP</code> and
                    <code class="literal">parensP</code> defined in
                    <code class="literal">Language.Haskell.TH.Lib</code>
                    and re-exported by
                    <code class="literal">Language.Haskell.TH</code>.
                </p><p>
                    These constructors are used for infix expressions
                    where the fixities of the operators are not known.
                    The compiler will look up the fixities and
                    reassociate the expression as necessary.
                </p><p>
                    There is also a new value
                    <code class="literal">Language.Haskell.TH.Ppr.unopPrec</code>
                    used when pretty-printing expressions of unknown
                    fixity.
                </p></li><li class="listitem"><p>
                    The
                    <code class="literal">Language.Haskell.TH.Syntax.Strict</code>
                    type now has an <code class="literal">Unpacked</code>
                    constructor, which corresponds to the
                    <code class="literal">{-# UNPACK #-}</code> pragma.
                    There is a corresponding helper function
                    <code class="literal">Language.Haskell.TH.Lib.unpacked</code>.
                </p></li><li class="listitem"><p>
                    The
                    <code class="literal">Language.Haskell.TH.Syntax.Info</code>
                    type has a new constructor
                    <code class="literal">FamilyI</code>, used when reifying a
                    data or type family's name.
                </p></li><li class="listitem"><p>
                    The
                    <code class="literal">Language.Haskell.TH.Syntax.ClassInstance</code>
                    type has been removed, and the
                    <code class="literal">ClassI</code> constructor of
                    <code class="literal">Language.Haskell.TH.Syntax.Info</code>
                    now contains <code class="literal">[InstanceDec]</code>
                    rather than <code class="literal">[ClassInstance]</code>.
                </p><p>
                    <code class="literal">Language.Haskell.TH.Syntax.InstanceDec</code>
                    is a new type synonym of
                    <code class="literal">Language.Haskell.TH.Syntax.Dec</code>,
                    but its constructor is guaranteed to be one of
                    <code class="literal">InstanceD</code> (with empty 
                    <code class="literal">[Dec]</code>),
                    <code class="literal">DataInstD</code> or
                    <code class="literal">NewtypeInstD</code> (with empty derived
                    <code class="literal">[Name]</code>), or
                    <code class="literal">TySynInstD</code>.
                </p><p>
                    The <code class="literal">qClassInstances</code> method of the
                    <code class="literal">Language.Haskell.TH.Syntax.Quasi</code>
                    class has been replaced with a
                    <code class="literal">qReifyInstances</code> method.
                </p><p>
                    Likewise, in
                    <code class="literal">Language.Haskell.TH.Syntax</code>, the
                    <code class="literal">isClassInstance</code> and
                    <code class="literal">classInstances</code> functions have
                    been replaced by <code class="literal">isInstance</code> and
                    <code class="literal">reifyInstances</code>. They are also
                    re-exported by
                    <code class="literal">Language.Haskell.TH</code>.
                </p></li><li class="listitem"><p>
                    The
                    <code class="literal">Language.Haskell.TH.Syntax.Quasi</code>
                    class now has a <code class="literal">qLookupName</code>
                    method, which takes a
                    <code class="literal">Bool</code>
                    indictaing whether you are looking for a type or a
                    value, and a
                    <code class="literal">String</code>.
                    It then tries to look up the name, returning a
                    <code class="literal">Maybe Name</code> in the monad.
                </p><p>
                    There are also new helper functions
                    <code class="literal">lookupTypeName</code> and
                    <code class="literal">lookupValueName</code>, which are also
                    re-exported by
                    <code class="literal">Language.Haskell.TH</code>.
                </p></li><li class="listitem"><p>
                    The
                    <code class="literal">Language.Haskell.TH.Syntax.Quasi</code>
                    class now has an <code class="literal">Applicative</code>
                    superclass, rather than a <code class="literal">Functor</code>
                    superclass. There is also now an
                    <code class="literal">Applicative</code> instance for
                    <code class="literal">Language.Haskell.TH.Syntax.Q</code>.
                </p></li><li class="listitem"><p>
                    The <code class="literal">NameSpace</code> type is now
                    abstractly re-exported by
                    <code class="literal">Language.Haskell.TH</code>.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.23. time"><div class="titlepage"><div><div><h4 class="title"><a name="idp19370832"></a>1.7.3.23. time</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 1.4 (was 1.2.0.5)
                </p></li><li class="listitem"><p>
                    A <code class="literal">RealFrac</code>
                    instance has been added for
                    <code class="literal">Data.Time.Clock.Scale.DiffTime</code>.
                </p></li><li class="listitem"><p>
                    <code class="literal">NFData</code>
                    instances have been added for
                    <code class="literal">Data.Time.Calendar.Days.Day</code>,
                    <code class="literal">Data.Time.Clock.Scale.UniversalTime</code>,
                    <code class="literal">Data.Time.Clock.Scale.DiffTime</code>,
                    <code class="literal">Data.Time.Clock.TAI.AbsoluteTime</code>,
                    <code class="literal">Data.Time.Clock.UTC.UTCTime</code>,
                    <code class="literal">Data.Time.Clock.UTC.NominalDiffTime</code>,
                    <code class="literal">Data.Time.LocalTime.LocalTime.LocalTime</code>,
                    <code class="literal">Data.Time.LocalTime.LocalTime.ZonedTime</code>,
                    <code class="literal">Data.Time.LocalTime.TimeOfDay.TimeOfDay</code>
                    and
                    <code class="literal">Data.Time.LocalTime.TimeZone.TimeZone</code>.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.24. unix"><div class="titlepage"><div><div><h4 class="title"><a name="idp19377960"></a>1.7.3.24. unix</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 2.5.1.0 (was 2.5.0.0)
                </p></li><li class="listitem"><p>
                    <code class="literal">System.Posix</code> now re-exports
                    <code class="literal">System.Posix.DynamicLinker</code>
                    (although it hides the <code class="literal">Default</code>
                    constructor, as that clashes with the constructor
                    of the same name of the
                    <code class="literal">System.Posix.Signals.Handler</code>
                    type).
                </p></li><li class="listitem"><p>
                    There is now a raw bytestring version of the
                    filepath and environment APIs. It uses a
                    <code class="literal">RawFilePath = ByteString</code>
                    type synonym, and adds a number of new exposed
                    modules:
                    <code class="literal">System.Posix.ByteString</code>,
                    <code class="literal">System.Posix.ByteString.FilePath</code>,
                    <code class="literal">System.Posix.Directory.ByteString</code>,
                    <code class="literal">System.Posix.DynamicLinker.Module.ByteString</code>,
                    <code class="literal">System.Posix.DynamicLinker.ByteString</code>,
                    <code class="literal">System.Posix.Files.ByteString</code>,
                    <code class="literal">System.Posix.IO.ByteString</code>,
                    <code class="literal">System.Posix.Env.ByteString</code>,
                    <code class="literal">System.Posix.Process.ByteString</code>,
                    <code class="literal">System.Posix.Temp.ByteString</code> and
                    <code class="literal">System.Posix.Terminal.ByteString</code>.
                </p></li></ul></div></div><div class="sect3" title="1.7.3.25. Win32"><div class="titlepage"><div><div><h4 class="title"><a name="idp19386544"></a>1.7.3.25. Win32</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    Version number 2.2.2.0 (was 2.2.1.0)
                </p></li><li class="listitem"><p>
                    <code class="literal">System.Win32.File</code> now exports
                    <code class="literal">failIfWithRetry</code>,
                    <code class="literal">failIfWithRetry_</code> and
                    <code class="literal">failIfFalseWithRetry_</code>.
                </p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-7-2-2.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="introduction-GHC.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="release-7-4-2.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.6. Release notes for version 7.2.2 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 1.8. Release notes for version 7.4.2</td></tr></table></div></body></html>
